language: node_js
node_js: stable

# Travis-CI Caching
cache:
  directories:
    - node_modules


# S: Build Lifecycle
install:
  - npm install

before_script:
  - npm install -g hexo-cli

script:
  - hexo generate

after_script:
  - cd public
  - git init
  - git config user.name "yunheli"
  - git config user.email "liyunhehappy6@163.com"
  - git add .
  - git commit -m "Update docs "
  - git push --force --quiet "https://${GH_TOKEN}@${GH_REF}" master:master
# E: Build LifeCycle

branches:
  only:
    - develop
env:
  global:
    - GH_REF: github.com/yunheli/yunheli.github.io.git
    - secure: "EPaKmsTxlLcFwcLD3kw0qaeYm/qA4j0fV0ZT0KghBYwWM7dJghm0dbGgdfPBPiDgTt2xmdsC5RHCfsa/F85f06GdIDd3iqCYLK9obCFlg2tnqa3rkYjzGVHeOWkCf2ZODdchIoOJBjex53VDLxDqpv9WQSPr3iwTt6oNkeNAKahelZgLGcIQ6rFioQbV5gQ7f7FLoWC3kw+xxcz1d4L0xce4LxVp+VtzIrE6RBvDwPeQ9kyRx8dRQNY1svBlpSKtUtZ6UReGeT2Jry5TeXnsjIVTFijL1bdMj5PlI9IqBtDLZFrhFO0gL4ocXPmoe7dBetDF6JmBTu2TGEW5+Ctivav5EzYPYoFGWgAoD4zRa7LUbveIdFM5Y9QrzuMzrIlEVXRdUvVEWglYjLcc+oPmEIkRfAFDEP3LUUfLgwf1RSAiReydihmoHhn6rPYfF9nreY1jxAE+WfMvJRou3Hu7ezxSKkTJJectv0HGIC89JxQfjGtG6zHq1q8Txg0gfSdmSk0PYElCOAFdmYXtejb1xvYkFbT/sprWAxFq34EZaz+tC9JFml+v2rcK8FzPzSXuJtP+hVKrjmyJdBM6MhBHaXa7+XUdWuZZF+15IBdXEYvmg4VeB4Lk2xrvPebJ1OIG/FxoojNDEuL6jtgkZdiUNIEAxT+qibdFYrczb8aphg8="

